(this.webpackJsonpcomp5703=this.webpackJsonpcomp5703||[]).push([[0],{166:function(e,t,r){},167:function(e,t,r){},203:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(16),i=r.n(c),s=r(23),o=r(312),l=r(132),u=Object(l.a)({palette:{common:{black:"#424242",white:"#ffffff"},primary:{light:"#3FD2C7",main:"#99DDFF",dark:"#00458B"},secondary:{main:"#00458B"},error:{main:"#d32f2f",contrastText:"#ffffff"},text:{primary:"#00458B",secondary:"#424242"},background:{default:"#99DDFF",paper:"#ffffff"},highlight:{main:"#e54861"}}}),d=r(6),j=r.n(d),p=r(9),b=r(10),h=r(11),m=Object(n.createContext)({userToken:null,isLoggingIn:!0,setIsLoggingIn:function(){}}),f=r(122),x=r(123),O=r(133),g=r(134),v=function(e){Object(x.a)(r,e);var t=Object(O.a)(r);function r(e,n){var a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(f.a)(this,r),(a=t.call(this,n)).name=e,a.type=c,a}return r}(Object(g.a)(Error)),w={REGISTER_NAME:"reg_name",REGISTER_ORG:"reg_org",REGISTER_EMAIL:"reg_email",REGISTER_PWD:"reg_pwd",BACKEND_LOGIN:"backend_login",BACKEND_LOGOUT:"backend_logout",BIND_PROFILE:"bind-profile-info",BACKEND_PROFILE:"backend_profile",LOGIN_EMAIL:"login_email",LOGIN_PWD:"login_pwd",LOGIN_ID_TOKEN:"firebase_login_token",FETCH_PROJ_DETAILS:"fetch_project_details",FETCH_GENDER_TYPES:"fetch_gender_types",FETCH_RESEARCH_FIELDS:"fetch_research_fields",FETCH_SENSORS:"fetch_sensors",CREAT_PROJECT:"creat_project",FETCH_API:"fetch_api"},y=r(1),k=function(e){var t=e.children,r=Object(n.useState)({userToken:null,isLoggingIn:!0,setIsLoggingIn:function(e){i(Object(b.a)(Object(b.a)({},c),{},{isLoggingIn:Boolean(e)}))}}),a=Object(h.a)(r,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){firebase.auth().onAuthStateChanged(function(){var e=Object(p.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}return r=null,e.prev=2,e.next=5,t.getIdToken();case 5:return r=e.sent,e.abrupt("return");case 9:throw e.prev=9,e.t0=e.catch(2),new v("Firebase Auth Error","Could not retrieve the user's Firebase ID token.");case 12:return e.prev=12,i(Object(b.a)(Object(b.a)({},c),{},{userToken:r,isLoggingIn:!1})),e.finish(12);case 15:e.next=19;break;case 17:console.log(t),i(Object(b.a)(Object(b.a)({},c),{},{userToken:null,isLoggingIn:!1}));case 19:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}())}),[c.userToken]),Object(y.jsx)(m.Provider,{value:c,children:t})},S=(r(166),r(167),r(22)),P=" http://34.151.82.81",N={register:{title:"Register",url:"/register"},forgotPwd:{title:"Forgot Password",url:"/forgot-pwd"},authenticated:{title:"Home",url:"/home"},dashboard:{title:"Dashboard",url:"/dashboard"},login:{title:"Login",url:"/login"},profile:{title:"Profile",url:"/profile"},projects:{title:"Manage Projects",url:"/projects"},projectDetails:{title:"Review Project Details",url:"/project/details"},createProject:{title:"Create a new Project",url:"/createproject"},balance:{title:"Balance",url:"/balance"},api:{login:P+"/api/projectowner/auth/login",logout:P+"/api/projectowner/auth/logout",profile:P+"/api/projectowner/profile",createProject:P+"/api/projectowner/project/",findProject:P+"/api/projectowner/project/projDetails",getResearchFieldMap:P+"/api/projectowner/publicResources/researchFields",getGenderTypes:P+"/api/projectowner/publicResources/genderTypes",getSensors:P+"/api/projectowner/publicResources/sensorNames",getApiRange:P+"/api/projectowner/publicResources/apiLevels",addBalance:P+"/api/projectowner/profile/addBalance",getSensorFrequencies:P+"/api/projectowner/publicResources/sensorFrequencies",dataPreview:P+"/api/projectowner/project/filter",datadownload:P+"/api/projectowner/project/records?projectId="}},I=r(19),C=r(273),T=r(315),R=r(278),D=r(313),A=r(274),E=r(269),F=r.p+"static/media/LoginImg.43babaee.png",q=Object(E.a)((function(e){return{loginContainer:{width:"70%",minWidth:"50rem",minHeight:"25rem",maxWidth:"70rem",maxHeight:"40rem",height:"70%",display:"flex",flexDirection:"row-reverse",flexWrap:"wrap",padding:"0px"},loginBox:{height:"100%",minHeight:"25rem",maxWidth:"50%",backgroundColor:e.palette.background.paper,display:"flex",justifyContent:"center",alignItems:"center"},insideBox:{},loginImg:{height:"100%",maxWidth:"50%",backgroundImage:"url(".concat(F,")"),backgroundPositionX:"center",backgroundPositionY:"100%",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center"},loginTitle:{color:e.palette.primary.light,marginTop:"1.5px",fontSize:"27px",letterSpacing:"5px",fontWeight:"bolder"},loginError:{Height:"2.7rem"},loginForm:{margin:e.spacing(3)},textBox:{marginBottom:"1.5rem"},submit:{margin:e.spacing(3,0,2),color:e.palette.common.white,backgroundColor:e.palette.primary.light,fontSize:"20px",fontWeight:"bolder",height:"50px",letterSpacing:"5px"},baseLine:{alignItems:"center",fontSize:"13px",marginBottom:"10px",color:e.palette.primary.light},links:{color:e.palette.primary.dark,fontSize:"12px"},imgText:{color:e.palette.common.white,marginBottom:"2rem",fontSize:"300%",letterSpacing:"5px",fontWeight:"bolder",textAlign:"right"}}})),B=r(31),L=r.n(B),_=function(){var e=Object(p.a)(j.a.mark((function e(){var t,r,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(N.api.getSensorFrequencies);case 3:if(t=e.sent,r=t.data,n=t.status,a=t.statusText,200===n){e.next=9;break}throw new v(" Frequencies Fetch Error","Did not receive a 200 response when retrieving the API: ".concat(a));case 9:return e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(p.a)(j.a.mark((function e(){var t,r,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(N.api.getApiRange);case 3:if(t=e.sent,r=t.data,n=t.status,a=t.statusText,200===n){e.next=9;break}throw new v(" API Fetch Error","Did not receive a 200 response when retrieving the API: ".concat(a));case 9:return e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(j.a.mark((function e(){var t,r,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(N.api.getSensors);case 3:if(t=e.sent,r=t.data,n=t.status,a=t.statusText,200===n){e.next=9;break}throw new v(" Sensors Fetch Error","Did not receive a 200 response when retrieving the sensors: ".concat(a));case 9:return e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(j.a.mark((function e(){var t,r,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(N.api.getGenderTypes);case 3:if(t=e.sent,r=t.data,n=t.status,a=t.statusText,200===n){e.next=9;break}throw new v("Gender Types Fetch Error","Did not receive a 200 response when retrieving the gender types: ".concat(a));case 9:return e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(j.a.mark((function e(){var t,r,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("inside API call"),e.next=4,L.a.get(N.api.getResearchFieldMap);case 4:if(t=e.sent,r=t.data,n=t.status,a=t.statusText,200===n){e.next=10;break}throw new v("Research Fields Map Error","Did not receive a 200 response when retrieving the research field mapping: ".concat(a));case 10:return e.abrupt("return",r);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(p.a)(j.a.mark((function e(t,r){var n,a,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post(N.api.findProject,{projectId:t},{headers:{Authorization:"Bearer "+r}});case 3:if(n=e.sent,a=n.data,c=n.status,i=n.statusText,200===c){e.next=9;break}throw new v("Project Details Error","Did not receive a 200 response when retrieving the project details: ".concat(i),w.FETCH_PROJ_DETAILS);case 9:return e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),H=function(){var e=Object(p.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post(N.api.login,{idToken:t},{headers:{Authorization:"Bearer "+t}});case 3:if(200===(r=e.sent).status){e.next=6;break}throw new v("login-api error",r.data,w.LOGIN_API);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post(N.api.logout,{},{headers:{Authorization:"Bearer "+t}});case 3:if(200===(r=e.sent).code){e.next=6;break}throw new v("signout-api error",r.errors,w.SIGNOUT_API);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(N.api.profile,{headers:{Authorization:"Bearer ".concat(t)}});case 3:if(200!==(r=e.sent).status){e.next=10;break}return console.log("success"),console.log(r.data),e.abrupt("return",r.data);case 10:if(200===r.status){e.next=12;break}throw new v("profile-api error",r.statusText,w.BACKEND_PROFILE);case 12:return e.abrupt("return",r.data||null);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(p.a)(j.a.mark((function e(t,r){var n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={organisation:"",name:"",phoneNum:"",researchFields:[]},t.organisation?n.organisation=t.organisation:delete n.organisation,t.name?n.name=t.name:delete n.name,t.phoneNum?n.phoneNum=t.phoneNum:delete n.phoneNum,t.researchFields?n.researchFields=t.researchFields:delete n.researchFields,e.prev=5,!(Object.keys(n).length<1)){e.next=8;break}throw new Error;case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(5),"Server-side Profile Error",a=new v("Server-side Profile Error","The object provided did not meet the request body requirements.",w.BACKEND_PROFILE),console.log(a.toString());case 15:return e.prev=15,e.next=18,L.a.post(N.api.profile,n,{headers:{Authorization:"Bearer ".concat(r)}});case 18:e.next=25;break;case 20:e.prev=20,e.t1=e.catch(15),"Server-side Profile Error",c=new v("Server-side Profile Error","There was an issue editing the user's profile.",w.BACKEND_PROFILE),console.log(c.toString());case 25:case"end":return e.stop()}}),e,null,[[5,10],[15,20]])})));return function(t,r){return e.apply(this,arguments)}}(),Y=function(){var e=Object(p.a)(j.a.mark((function e(t,r){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post(N.api.createProject,t,{headers:{Authorization:"Bearer ".concat(r)}});case 3:if(200!=(n=e.sent).status){e.next=6;break}return e.abrupt("return",!0);case 6:if(200===n.status){e.next=8;break}throw new v("project-creating-api error",n.statusText,w.BACKEND_PROJECT);case 8:return e.abrupt("return",n.data||null);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),$=function(){var e=Object(p.a)(j.a.mark((function e(t,r){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,L.a.post(N.api.addBalance,t,{headers:{Authorization:"Bearer ".concat(r)}});case 4:if(200!=(n=e.sent).status){e.next=9;break}return e.abrupt("return",!0);case 9:throw new v("project-creating-api error",n.statusText,w.BACKEND_PROJECT);case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),"Server-side Profile Error",a=new v("Server-side Profile Error","There was an issue editing the user's balance.",w.BACKEND_PROFILE),console.log(a.toString());case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),X=function(){var e=Object(p.a)(j.a.mark((function e(t,r){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,firebase.auth().signInWithEmailAndPassword(t,r);case 3:return e.next=5,firebase.auth().currentUser.getIdToken();case 5:return n=e.sent,e.next=8,H(n);case 8:e.next=21;break;case 10:e.prev=10,e.t0=e.catch(0),a="Login Error",e.t1=e.t0.code,e.next="auth/invalid-email"===e.t1?16:"auth/user-disabled"===e.t1?17:"auth/user-not-found"===e.t1?18:"auth/wrong-password"===e.t1?19:20;break;case 16:throw new v(a,"Wrong email format!",w.LOGIN_EMAIL);case 17:throw new v(a,"This email has been disabled",w.LOGIN_EMAIL);case 18:throw new v(a,"This email hasn't been registered.",w.LOGIN_EMAIL);case 19:throw new v(a,"the password is invalid for the given email.",w.LOGIN_PWD);case 20:throw new v(a,e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),Z=r(271),Q=Object(E.a)((function(e){return{spinner:{top:"50%",margin:"2em",color:e.palette.common.white}}})),ee=function(){var e=Q();return Object(y.jsx)(Z.a,{className:e.spinner})};var te=function(){var e=q(),t=Object(S.f)(),r=Object(n.useContext)(m),a=(r.userToken,r.isLoggingIn,Object(n.useState)({email:"",password:"",errors:[],showPassword:!1})),c=Object(h.a)(a,2),i=c[0],o=c[1],l=function(e){return function(t){o(Object(b.a)(Object(b.a)({},i),{},Object(I.a)({},e,t.target.value)))}},u=function(e){o(Object(b.a)(Object(b.a)({},i),{},{errors:e}))},d=function(){var e=i.email,t=i.password;return""===e||""===t?(u(["Please fill in all the required fields."]),!1):!!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||(u(["Email format is invalid. Please fill in again."]),!1)},f=function(){var e=Object(p.a)(j.a.mark((function e(){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.email,n=i.password,!d()){e.next=12;break}return e.prev=2,e.next=5,X(r,n);case 5:t.push("".concat(N.authenticated.url).concat(N.dashboard.url)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),u([]),e.t0.type,u([e.t0.toString()]);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(C.a,{className:e.loginContainer,children:[Object(y.jsx)(C.a,{className:e.loginBox,children:Object(y.jsxs)(D.a,{children:[Object(y.jsx)("div",{className:e.loginTitle,children:"Login"}),Object(y.jsx)("div",{className:e.loginError,children:i.errors.length>0&&i.errors.map((function(e){return Object(y.jsx)(T.a,{severity:"error",children:e})}))}),Object(y.jsxs)("form",{className:e.loginForm,noValidate:!0,children:[Object(y.jsx)(A.a,{type:"email",id:"login-email",className:e.textBox,variant:"standard",required:!0,fullWidth:!0,autoFocus:!0,label:"Email",value:i.email,onChange:l("email")}),Object(y.jsx)(A.a,{className:e.textBox,type:i.showPassword?"text":"password",variant:"standard",name:"password",label:"Password",required:!0,fullWidth:!0,value:i.password,onChange:l("password")}),Object(y.jsx)(s.b,{className:e.links,to:"/forgot-pwd",children:"Forget the password?"}),Object(y.jsx)(R.a,{fullWidth:!0,variant:"contained",className:e.submit,onClick:f,children:"Login"}),Object(y.jsxs)("div",{className:e.baseLine,children:["Don't have an account? \xa0",Object(y.jsx)(s.b,{className:e.links,to:N.register.url,children:"Create an account."})]})]})]})}),Object(y.jsx)(C.a,{className:e.loginImg,children:Object(y.jsxs)(D.a,{children:[Object(y.jsx)("div",{className:e.imgText,children:"Welcome"}),Object(y.jsx)("div",{className:e.imgText,children:"Back"})]})})]})},re=Object(E.a)((function(e){return{root:{backgroundColor:e.palette.background.default,width:"100%",height:"100%",position:"fixed",display:"flex",justifyContent:"center",alignItems:"center","& > * + *":{marginTop:e.spacing(2)}}}})),ne=function(){var e=re(),t=Object(n.useContext)(m),r=t.userToken,a=t.isLoggingIn,c=Object(S.f)();return Object(n.useEffect)((function(){r?c.push("".concat(N.authenticated.url).concat(N.dashboard.url)):console.log(r)}),[r,a]),null!==r?Object(y.jsx)(ee,{}):Object(y.jsx)("div",{className:e.root,children:Object(y.jsx)(te,{})})},ae=r(99),ce=r(279),ie=Object(E.a)((function(e){return{paper:{padding:e.spacing(4),maxWidth:"100%",margin:"auto",scrollBehavior:"auto",minHeight:"35rem"},RegisterTitle:{color:e.palette.primary.light,marginTop:"1.5px",fontSize:"27px",letterSpacing:"5px",fontWeight:"bolder"},textFieldRoot:{width:"25rem","& .MuiTextField-root":{marginTop:e.spacing(1.5),marginBottom:e.spacing(1.5)}},submit:{margin:e.spacing(1.5,0,1),color:e.palette.common.white,backgroundColor:e.palette.primary.light,fontSize:"20px",fontWeight:"bolder",height:"50px",letterSpacing:"5px"},links:{color:e.palette.primary.dark,fontSize:"12px"}}})),se=function(){var e=Object(p.a)(j.a.mark((function e(t,r){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,firebase.auth().createUserWithEmailAndPassword(t,r);case 3:return e.next=5,firebase.auth().currentUser.getIdToken();case 5:return n=e.sent,e.next=8,H(n);case 8:return e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),a="Registration Error",e.t1=e.t0.code,e.next="auth/weak-password"===e.t1?17:"auth/email-already-in-use"===e.t1?18:"auth/operation-not-allowed"===e.t1?19:"auth/invalid-email"===e.t1?20:21;break;case 17:throw new v(a,"The provided password is too weak, please use a stronger password.",w.REGISTER_PWD);case 18:throw new v(a,"This email has already been registered.",w.REGISTER_EMAIL);case 19:throw new v(a,"This account type is not available. Please contact an administrator.",w.REGISTER_EMAIL);case 20:throw new v(a,"The email address provided is not valid, please check the email address again.",w.REGISTER_EMAIL);case 21:throw new v(a,e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),oe=function(e,t,r,n,a){var c="Registration Error";if(!ue(e))throw new v(c,"Please provide a valid name.",w.REGISTER_NAME);if(!le(t))throw new v(c,"Please enter the organisation that you are representing.",w.REGISTER_ORG);if(!de(r))throw new v(c,"The email address is not in a valid format.",w.REGISTER_EMAIL);if(!je(n,a))throw new v(c,"Please ensure that your passwords have been filled for both fields.",w.REGISTER_PWD);if(!pe(n,a))throw new v(c,"The passwords do not match, please check your passwords again.",w.REGISTER_PWD)},le=function(e){return""!==e.trim()&&(null!=e&&void 0!==e)},ue=function(e){return""!==e.trim()&&(null!=e&&void 0!==e)},de=function(e){return""!==e.trim()&&(null!=e&&(void 0!==e&&-1!==e.search(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)))},je=function(e,t){return""!==e.trim()&&""!==t.trim()},pe=function(e,t){return e===t},be=function(){var e=Object(S.f)(),t=ie(),r=Object(n.useState)(""),a=Object(h.a)(r,2),c=a[0],i=a[1],s=Object(n.useState)(""),o=Object(h.a)(s,2),l=o[0],u=o[1],d=Object(n.useState)(""),m=Object(h.a)(d,2),f=m[0],x=m[1],O={name:"",org:"",email:"",pwd:""},g=Object(n.useState)(O),v=Object(h.a)(g,2),k=v[0],P=v[1],I=Object(n.useState)(""),C=Object(h.a)(I,2),T=C[0],D=C[1],E=Object(n.useState)(""),F=Object(h.a)(E,2),q=F[0],B=F[1],L=Object(n.useState)(!1),_=Object(h.a)(L,2),W=_[0],G=_[1],M=function(){var t=Object(p.a)(j.a.mark((function t(){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,G(!0),oe(c,l,f,T,q),t.next=5,se(f,T);case 5:r=t.sent,K({name:c,organisation:l,balance:0},r),e.push("".concat(N.authenticated.url).concat(N.dashboard.url)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0.type===w.REGISTER_PWD?P(Object(b.a)(Object(b.a)({},O),{},{pwd:t.t0.toString()})):t.t0.type===w.REGISTER_NAME?P(Object(b.a)(Object(b.a)({},O),{},{name:t.t0.toString()})):t.t0.type===w.REGISTER_ORG?P(Object(b.a)(Object(b.a)({},O),{},{org:t.t0.toString()})):P(Object(b.a)(Object(b.a)({},O),{},{email:t.t0.toString()})),G(!1);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(y.jsx)(ae.a,{className:t.paper,variant:"outlined",children:Object(y.jsx)("form",{className:t.textFieldRoot,children:Object(y.jsxs)(ce.a,{container:!0,direction:"column",spacing:2,children:[Object(y.jsx)(ce.a,{item:!0,className:t.RegisterTitle,children:"Register"}),Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(A.a,{required:!0,id:"register-name","aria-label":"Name",label:"Name",type:"text",value:c,onChange:function(e){i(e.target.value)},error:!!k.name,helperText:k.name,fullWidth:!0})}),Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(A.a,{required:!0,id:"register-org","aria-label":"Organisation",label:"Organisation",type:"text",value:l,onChange:function(e){u(e.target.value)},error:!!k.org,helperText:k.org,fullWidth:!0})}),Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(A.a,{required:!0,id:"email-addr","aria-label":"Email address",label:"Email address",type:"email",value:f,onChange:function(e){x(e.target.value)},error:!!k.email,helperText:k.email,fullWidth:!0})}),Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(A.a,{required:!0,id:"pwd","aria-label":"Password",label:"Password",type:"password",value:T,onChange:function(e){D(e.target.value)},fullWidth:!0})}),Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(A.a,{required:!0,id:"confirm-pwd","aria-label":"Confirm Password",label:"Confirm Password",type:"password",value:q,onChange:function(e){B(e.target.value)},error:!!k.pwd,helperText:k.pwd,fullWidth:!0})}),Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(R.a,{className:t.submit,variant:"contained",disabled:W,onClick:M,fullWidth:!0,children:"Create"})}),Object(y.jsx)(ce.a,{container:!0,direction:"row",justify:"center",item:!0,children:Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(R.a,{onClick:function(){e.push(N.login.url)},children:"Already have an account?"})})})]})})})},he=Object(E.a)((function(e){return{root:{backgroundColor:e.palette.background.default,position:"fixed",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",scrollBehavior:"smooth","& > * + *":{marginTop:e.spacing(2)}}}})),me=function(){var e=he();return Object(y.jsx)("div",{className:e.root,children:Object(y.jsx)(be,{})})},fe=r(37),xe=r(318),Oe=Object(E.a)((function(e){return{paper:{padding:e.spacing(4),width:"100%",maxWidth:"25rem",margin:"auto"},textFieldRoot:{"& .MuiTextField-root":{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}})),ge=function(){var e=Object(p.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,firebase.auth().useDeviceLanguage(),e.next=4,firebase.auth().sendPasswordResetEmail(t);case 4:return e.abrupt("return",!0);case 7:e.prev=7,e.t0=e.catch(0),r="Forgot Password Error",e.t1=e.t0.code,e.next="auth/invalid-email"===e.t1?13:"auth/missing-continue-uri"===e.t1?14:"auth/invalid-continue-uri"===e.t1?15:"auth/unauthorized-continue-uri"===e.t1?16:"auth/user-not-found"===e.t1?17:18;break;case 13:throw new v(r,"The email address provided is invalid.");case 14:throw new v(r,"No URL was provided in the password reset request.");case 15:throw new v(r,"The URL provided in the password reset request is invalid.");case 16:throw new v(r,"The domain of the password reset request URL is not authorized.");case 17:throw new v(r,"There is no user associated with this email address. Unable to reset password.");case 18:throw new v(r,"A general error has occurred while trying to reset the user's password.");case 19:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Oe(),t=Object(n.useState)(""),r=Object(h.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(!1),s=Object(h.a)(i,2),o=s[0],l=s[1],u=Object(n.useState)(""),d=Object(h.a)(u,2),b=d[0],m=d[1],f=Object(n.useState)(!1),x=Object(h.a)(f,2),O=x[0],g=x[1],v=function(e,t){"clickaway"!==t&&l(!1)},w=function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge(a);case 3:l(!0),m(""),g(!0),setTimeout((function(){g(!1)}),5e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),m(e.t0.toString());case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(ae.a,{className:e.paper,variant:"outlined",children:Object(y.jsxs)("form",{className:e.textFieldRoot,children:[Object(y.jsxs)(ce.a,{container:!0,direction:"column",spacing:4,children:[Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(fe.a,{variant:"h5",children:"Forgot Password"})}),Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(A.a,{required:!0,variant:"outlined",id:"email-addr",label:"Email address",type:"email",value:a,onChange:function(e){c(e.target.value)},error:!!b,helperText:b,fullWidth:!0})}),Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(R.a,{variant:"contained",color:"secondary",disabled:O,onClick:w,children:"Reset my password"})})]}),Object(y.jsx)(xe.a,{open:o,autoHideDuration:5e3,onClose:v,children:Object(y.jsx)(T.a,{elevation:6,variant:"filled",onClose:v,severity:"success",children:"Your password reset link has been sent to your email address!"})})]})})},we=Object(E.a)((function(e){return{root:{backgroundColor:e.palette.background.default,width:"100%",height:"100%",display:"flex",position:"fixed",justifyContent:"center",alignItems:"center","& > * + *":{marginTop:e.spacing(2)}}}})),ye=function(){var e=we();return Object(y.jsx)("div",{className:e.root,children:Object(y.jsx)(ve,{})})},ke=r(286),Se=r(287),Pe=r(280),Ne=Object(E.a)((function(e){return{root:{marginLeft:"auto"},welcomeIcon:{float:"left",marginLeft:10,marginRight:5},welcomeText:{float:"left",marginLeft:5,marginRight:10}}})),Ie=function(){var e=Ne(),t=Object(n.useState)(),r=Object(h.a)(t,2),a=r[0],c=r[1];return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,firebase.auth().currentUser.getIdToken();case 3:return t=e.sent,console.log(t),e.next=7,J(t);case 7:r=e.sent,console.log("user balance data got from API"),console.log(r),c(r.name),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),new v("Get-user-error",{error:e.t0},w.BACKEND_PROFILE);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(y.jsxs)("div",{className:e.root,children:[Object(y.jsx)(Pe.a,{className:e.welcomeIcon,children:"account_circle"}),Object(y.jsxs)(fe.a,{className:e.welcomeText,children:["Welcome back, ",a,"!"]})]})},Ce=r(205),Te=r(135),Re=Object(E.a)((function(e){return{profileBtn:{marginLeft:20}}})),De=Object(E.a)((function(e){return{signOutBtn:{margin:e.spacing(0,0,0),color:"#ffffff",backgroundColor:"#00458B",fontSize:"15px",fontWeight:"bold",height:"30px",letterSpacing:"2px"}}})),Ae=r(281),Ee=r(285),Fe=r(283),qe=r(284),Be=r(282),Le=function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,firebase.auth().signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var _e=function(){var e=De(),t=Object(S.f)(),r=Object(n.useContext)(m).userToken,c=a.a.useState(!1),i=Object(h.a)(c,2),s=i[0],o=i[1],l=function(){o(!1)},u=function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.next=3,V(r);case 3:return e.next=5,Le();case 5:t.push(N.login);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsx)(R.a,{className:e.signOutBtn,onClick:function(){o(!0)},children:"Sign out"}),Object(y.jsxs)(Ae.a,{open:s,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(y.jsx)(Be.a,{id:"alert-dialog-title",children:"Sign Out"}),Object(y.jsx)(Fe.a,{children:Object(y.jsx)(qe.a,{id:"alert-dialog-description",children:"Are you sure you want to sign out?"})}),Object(y.jsxs)(Ee.a,{children:[Object(y.jsx)(R.a,{onClick:function(){l()},autoFocus:!0,children:"Cancel"}),Object(y.jsx)(R.a,{onClick:function(){u()},children:"Yes"})]})]})]})},We=function(){var e=Re(),t=Object(n.useState)(null),r=Object(h.a)(t,2),a=r[0],c=r[1],i=Boolean(a);return Object(y.jsxs)("div",{className:e.profileBtn,children:[Object(y.jsx)(Ce.a,{"aria-label":"dropdown button for options","aria-controls":"menu-appbar","aria-haspopup":"true",color:"primary",onClick:function(e){c(e.currentTarget)},children:Object(y.jsx)(Pe.a,{children:"arrow_drop_down"})}),Object(y.jsx)(Te.a,{getContentAnchorEl:null,id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"bottom",horizontal:"center"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"center"},open:i,onClose:function(e){c(null)},children:Object(y.jsx)(_e,{})})]})},Ge=240,Me=Object(E.a)((function(e){return{appBar:{width:"calc(100% - ".concat(Ge,")px"),marginLeft:Ge}}})),ze=function(){var e=Me();return Object(y.jsx)(ke.a,{position:"fixed",color:"secondary",className:e.appBar,children:Object(y.jsxs)(Se.a,{children:[Object(y.jsx)(Ie,{}),Object(y.jsx)(We,{})]})})},Ue=r(320),He=r(290),Ve=r(277),Je=r(211),Ke=r(288),Ye=r(289),$e=Object(E.a)((function(e){return{listItems:{marginTop:"2.5rem"},listIcons:{color:e.palette.primary.dark},listItemsText:{color:e.palette.primary.dark,fontSize:"1rem",fontWeight:"bold"}}})),Xe=function(e){var t=$e(),r=e.primary,a=e.to,c=e.iconName,i=Object(n.useMemo)((function(){return Object(n.forwardRef)((function(e,t){return Object(y.jsx)(s.b,Object(b.a)({to:a,ref:t},e))}))}),[a]);return Object(y.jsx)("li",{children:Object(y.jsxs)(Je.a,{button:!0,component:i,className:t.listItems,children:[c?Object(y.jsx)(Ke.a,{children:Object(y.jsx)(Pe.a,{className:t.listIcons,children:c})}):null,Object(y.jsx)(Ye.a,{primary:r,classes:{primary:t.listItemsText}})]})})},Ze=Object(E.a)((function(e){return{btn:{marginLeft:30,marginRight:30,marginTop:80,height:"3rem",backgroundColor:e.palette.primary.light,color:e.palette.common.white,fontSize:"1rem",fontWeight:"bold"}}})),Qe=function(){var e=Ze(),t=Object(S.f)();return Object(y.jsx)(R.a,{variant:"contained",startIcon:Object(y.jsx)(Pe.a,{children:"add"}),className:e.btn,onClick:function(){t.push("".concat(N.authenticated.url).concat(N.createProject.url))},children:"New Project"})},et=Object(E.a)((function(e){return{drawer:{minWidth:Ge,display:"flex",flexShrink:0},drawerPaper:{width:Ge},toolbar:e.mixins.toolbar}})),tt={Dashboard:"assessment","Manage Projects":"folder",Profile:"person",Balance:"account_balance_wallet"},rt=function(){var e=et(),t=[N.dashboard,N.projects,N.profile,N.balance];return Object(y.jsxs)(Ue.a,{className:e.drawer,variant:"permanent",anchor:"left",classes:{paper:e.drawerPaper},children:[Object(y.jsx)("div",{className:e.toolbar}),Object(y.jsx)(He.a,{}),Object(y.jsx)(Ve.a,{children:t.map((function(t,r){return Object(y.jsx)(Xe,{to:"".concat(N.authenticated.url).concat(t.url),primary:t.title,iconName:tt[t.title],className:e.listItems},r)}))}),Object(y.jsx)(Qe,{})]})},nt=Object(E.a)((function(e){return{root:{display:"flex",backgroundColor:e.palette.background.default,width:"100%",height:"100%",position:"fixed",alignItems:"center",justifyContent:"center",overflow:"auto"},content:{flexGrow:1,overflow:"auto"},toolbar:e.mixins.toolbar}})),at=function(e){var t=e.ProtectedComponent,r=nt(),a=Object(n.useContext)(m),c=a.userToken,i=a.isLoggingIn,s=Object(S.f)();return Object(n.useEffect)((function(){if(!i&&null===c)return s.push(N.login.url),null}),[c,i]),null===c?Object(y.jsx)(ee,{}):Object(y.jsxs)("div",{className:r.root,children:[Object(y.jsx)(ze,{}),Object(y.jsx)(rt,{}),Object(y.jsxs)("main",{className:r.content,children:[Object(y.jsx)("div",{className:r.toolbar}),Object(y.jsx)(t,{})]})]})},ct=r(138),it=r(291),st=r(292),ot=r(293),lt=Object(E.a)((function(e){return{cards:{width:"25rem",height:"15rem"},title:{fontSize:"1.2rem",fontWeight:"bold"}}})),ut=function(e){var t=e.title,r=e.dataValue,n=e.displayIcon,a=lt();return Object(y.jsxs)(it.a,{className:a.cards,children:[Object(y.jsx)(st.a,{classes:{title:a.title},avatar:n,title:t}),Object(y.jsx)(ot.a,{children:Object(y.jsx)(fe.a,{variant:"h3",color:"textSecondary",children:r})})]})},dt=r(321),jt=function(e){var t=e.iconName,r=e.iconBackgroundColour,n=Object(E.a)((function(e){return{rounded:{color:e.palette.getContrastText(r),backgroundColor:r}}}))();return Object(y.jsx)(dt.a,{variant:"rounded",className:n.rounded,children:Object(y.jsx)(Pe.a,{children:t})})},pt=function(e){var t=e.fundsAmt,r=Object(ct.a)(),n=Object(y.jsx)(jt,{iconName:"paid",iconBackgroundColour:r.palette.secondary.main}),a=new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD"});return Object(y.jsx)(ut,{title:"Funds Paid Out",dataValue:a.format(t),displayIcon:n})},bt=function(e){var t=e.fundsAmt,r=Object(ct.a)(),n=Object(y.jsx)(jt,{iconName:"account_balance",iconBackgroundColour:r.palette.secondary.main}),a=new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD"});return Object(y.jsx)(ut,{title:"Funds in Holding (To be paid)",dataValue:a.format(t),displayIcon:n})},ht=function(e){var t=e.numProjs,r=Object(ct.a)(),n=Object(y.jsx)(jt,{iconName:"work",iconBackgroundColour:r.palette.secondary.main}),a=new Intl.NumberFormat("en-AU",{style:"decimal",maximumFractionDigits:0});return Object(y.jsx)(s.b,{style:{textDecoration:"none"},to:"".concat(N.authenticated.url).concat(N.profile.url),children:Object(y.jsx)(ut,{title:"Total Projects Running",dataValue:a.format(t),displayIcon:n})})},mt=function(e){var t=e.numRecords,r=Object(ct.a)(),n=Object(y.jsx)(jt,{iconName:"insights",iconBackgroundColour:r.palette.secondary.main}),a=new Intl.NumberFormat("en-AU",{style:"decimal",maximumFractionDigits:0});return Object(y.jsx)(ut,{title:"Data Collected (Records)",dataValue:"".concat(a.format(t)),displayIcon:n})},ft=function(){var e=Object(n.useContext)(m).userToken,t={paidFundAmt:0,holdFundAmt:0,totalProjs:0,totalData:0},r=Object(n.useState)(t),a=Object(h.a)(r,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){(function(){var r=Object(p.a)(j.a.mark((function r(){var n,a;return j.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,J(e);case 2:n=r.sent,a=Object(b.a)(Object(b.a)({},t),{}),null!==n&&"undefined"!==typeof n&&(console.log(n),Object.hasOwnProperty.call(n,"totalHasFundedMoney")&&(a.paidFundAmt=n.totalHasFundedMoney),Object.hasOwnProperty.call(n,"balance")&&(a.holdFundAmt=n.balance),Object.hasOwnProperty.call(n,"projects")&&(a.totalProjs=n.projects.length),Object.hasOwnProperty.call(n,"totalAmountDataCollected")&&(a.totalData=n.totalAmountDataCollected),i(a));case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}})()()}),[]),Object(y.jsxs)(ce.a,{container:!0,direction:"row",justify:"center",spacing:3,children:[Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(pt,{fundsAmt:c.paidFundAmt})}),Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(bt,{fundsAmt:c.holdFundAmt})}),Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(ht,{numProjs:c.totalProjs})}),Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsx)(mt,{numRecords:c.totalData})})]})},xt=r(295),Ot=r(296),gt=r(297),vt=r(298),wt=r(299),yt=r(300),kt=r(301),St=Object(E.a)((function(e){return{table:{minWidth:650},noProjMsg:{marginTop:20},loading:{marginTop:20},details:{padding:e.spacing(5),marginTop:"3rem",display:"flex",flexFlow:"column wrap",justifyContent:"flex-end",scrollBehavior:"auto",width:"80%"},backButton:{width:"20%",fontSize:"15px"},detailsPaper:{margin:"1rem auto",padding:e.spacing(5),backgroundColor:e.palette.background.paper,maxWidth:"40rem",width:"80%",borderRadius:"5px"},prjTitle:{display:"flex",flexFlow:"column wrap",alignItems:"flex-start",justifyContent:"flex-start",alignContent:"flex-start",marginBottom:"1rem"},sensors:{display:"flex",flexFlow:"column wrap",justifyItems:"flex-start",marginBottom:"1rem",width:"100%"}}})),Pt=r(302),Nt=r(314),It=r(294),Ct=function(e,t){var r={current:[],past:[]};return e.map((function(e){var n=e.prjStatistic.every((function(e){return 0===e.goalNum||e.collectedNum>=e.goalNum}));e.prjResearchField=t[e.prjResearchField],n?r.past.push(e):r.current.push(e)})),r},Tt=function(){var e=Object(p.a)(j.a.mark((function e(t){var r,n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:if(r=e.sent,!("undefined"!==typeof(n=r.projects)&&null!==n&&n.length>0)){e.next=12;break}return a=n.map((function(e){return U(e,t)})),e.next=8,Promise.all(a);case 8:return c=e.sent,e.abrupt("return",c);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt=function(e){var t=e.setProjectDetails,r=St(),a=Object(n.useContext)(m).userToken,c=Object(n.useState)("current"),i=Object(h.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(null),u=Object(h.a)(l,2),d=u[0],b=u[1],f=Object(n.useState)(null),x=Object(h.a)(f,2),O=x[0],g=x[1],v=Object(n.useState)(void 0),w=Object(h.a)(v,2),k=w[0],S=w[1];return Object(n.useEffect)((function(){(function(){var e=Object(p.a)(j.a.mark((function e(t){var r,n,a,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt(t);case 2:return r=e.sent,e.next=5,z();case 5:n=e.sent,a=Ct(r,n),c=a.current,i=a.past,b(c),g(i),"current"===s?S(c):"past"===s&&S(i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(a)}),[]),Object(n.useEffect)((function(){switch(s){case"current":S(d);break;case"past":S(O)}}),[s]),null===k?Object(y.jsx)(ee,{}):Object(y.jsxs)(ce.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:5,children:[Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsxs)(Nt.a,{value:s,onChange:function(e,t){o(t)},children:[Object(y.jsx)(It.a,{label:"Current Projects",value:"current"}),Object(y.jsx)(It.a,{label:"Past Projects",value:"past"})]})}),Object(y.jsx)(ce.a,{item:!0,children:Object(y.jsxs)(xt.a,{className:r.table,children:[Object(y.jsxs)(Ot.a,{stickyHeader:!0,"aria-label":"header is fixed in table",children:[Object(y.jsx)(gt.a,{children:Object(y.jsx)(vt.a,{children:["No.","Title","Research Field(s)","Participants"].map((function(e,t){return Object(y.jsx)(wt.a,{children:e},t)}))})}),Object(y.jsx)(yt.a,{children:null!==k&&"undefined"!==typeof k?k.map((function(e,r){return Object(y.jsxs)(vt.a,{children:[Object(y.jsx)(wt.a,{children:r+1}),Object(y.jsx)(wt.a,{children:Object(y.jsx)(kt.a,{variant:"body2",color:"textSecondary",onClick:function(){console.log(e),t(e)},children:e.prjTitle})}),Object(y.jsx)(wt.a,{children:e.prjResearchField}),Object(y.jsx)(wt.a,{children:"".concat(e.inprojectparticipantsNum," / ").concat(e.desiredParticipantNumber)})]},r)})):null})]}),null===k?Object(y.jsxs)("div",{className:r.loading,children:[Object(y.jsx)(Pt.a,{}),Object(y.jsx)(Pt.a,{}),Object(y.jsx)(Pt.a,{})]}):null,Array.isArray(k)&&0===k.length?Object(y.jsx)(fe.a,{className:r.noProjMsg,children:"You have no ".concat(s," projects at the moment.")}):null]})})]})},Dt=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z();case 3:return t=e.sent,console.log("data got from API"),console.log(t),e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Fetch-research-field-error",{error:e.t0},w.FETCH_RESEARCH_FIELDS);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),At=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:return t=e.sent,console.log("gender data got from API"),console.log(t),e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Fetch-gender-types-error",{error:e.t0},w.FETCH_GENDER_TYPES);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Et=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G();case 3:return t=e.sent,console.log("sensors data got from API"),console.log(t),e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Fetch-sensors-error",{error:e.t0},w.FETCH_SENSORS);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W();case 3:return t=e.sent,console.log("API range data got from backend"),console.log(t),e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Fetch-api-error",{error:e.t0},w.FETCH_API);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),qt=r(136),Bt=r(5),Lt=r(303),_t=r(322),Wt=Object(E.a)((function(e){var t;return t={root:{height:"auto",minWidth:"50rem",maxWidth:"85%",backgroundColor:e.palette.background.paper,display:"flex",flexWrap:"wrap",flexDirection:"column",justifyContent:"center",scrollBehavior:"auto"},steps:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:"3rem"},instructions:{minWidth:"70%",margin:"auto 2rem",height:"auto",minHeight:"25rem"},textBox:{marginTop:"1.5rem"},margin:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center"},date:{width:"45%",marginTop:"1.5rem"},right:{width:"25%",marginTop:"1.5rem"},funding:{marginTop:"1.5rem",width:"65%"},formControl:{marginTop:"1.5rem",width:"100%"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},researchPaper:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0}},Object(I.a)(t,"chip",{margin:e.spacing(.5)}),Object(I.a)(t,"btnGroup",{display:"flex",flexDirection:"column"}),Object(I.a)(t,"sensorSetting",{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(4),marginTop:e.spacing(4)}),Object(I.a)(t,"sensorDrop",{width:"60%"}),Object(I.a)(t,"fslider",{width:"35%"}),Object(I.a)(t,"sensorAmount",{width:"15%"}),Object(I.a)(t,"optionalSetting",{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:"1rem auto",width:"100%"}),Object(I.a)(t,"optionalPaper",{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-around",padding:e.spacing(2),marginTop:"0.5rem",height:"5rem",width:"40%",backgroundColor:"rgba(153, 221, 255, 0.4)",alignItems:"center"}),Object(I.a)(t,"optionalSelect",{width:"50%"}),Object(I.a)(t,"seriousness",{width:"30%"}),Object(I.a)(t,"reviewStep",{marginTop:"2rem",width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start"}),Object(I.a)(t,"reviewlines",{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",minHeight:"2.5rem",height:"auto",maxWidth:"90%"}),t})),Gt=Object(Bt.a)((function(e){return{root:{width:35,height:20,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:e.palette.primary.dark,opacity:1,border:"none"}},"&$focusVisible $thumb":{color:e.palette.primary.light,border:"6px solid #fff"}},thumb:{width:18,height:18},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,r=Object(qt.a)(e,["classes"]);return Object(y.jsx)(Lt.a,Object(b.a)({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},r))})),Mt=Object(Bt.a)((function(e){return{tooltip:{backgroundColor:e.palette.grey[100],color:e.palette.text.primary,boxShadow:e.shadows[1],fontSize:12,maxWidth:400}}}))(_t.a),zt=r(91),Ut=r.n(zt),Ht=r(126),Vt=r.n(Ht),Jt=r(304);r(188);function Kt(e){var t=e.projectDetails,r=e.setProjectDetails;console.log(t);var a=St(),c=Object(n.useState)([]),i=Object(h.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)(),u=Object(h.a)(l,2),d=(u[0],u[1],["Low","Medium","High"]),m=0;Object(S.f)();function f(e){return Object(y.jsxs)(D.a,{display:"flex",alignItems:"center",children:[Object(y.jsx)(D.a,{width:"100%",mr:1,children:Object(y.jsx)(Jt.a,Object(b.a)({variant:"determinate"},e))}),Object(y.jsx)(D.a,{minWidth:35,children:Object(y.jsx)(fe.a,{variant:"body2",color:"textSecondary",children:"".concat(parseFloat(e.value).toFixed(2),"%")})})]})}function x(){return(x=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open(N.api.datadownload+t._id,"_parent");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,Et();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(y.jsxs)("div",{className:a.details,children:[Object(y.jsx)(R.a,{color:"secondary",className:a.backButton,onClick:function(){return r(void 0)},startIcon:Object(y.jsx)(Ut.a,{}),children:"Back"}),Object(y.jsxs)(ae.a,{elevation:10,className:a.detailsPaper,children:[Object(y.jsxs)("div",{className:a.prjTitle,children:[Object(y.jsx)(fe.a,{variant:"overline",color:"textSecondary",children:"Project:"}),Object(y.jsx)(fe.a,{align:"left",variant:"h6",color:"secondary",children:t.prjTitle})]}),Object(y.jsxs)("div",{className:a.prjTitle,children:[Object(y.jsx)(fe.a,{variant:"overline",color:"textSecondary",children:"Description:"}),Object(y.jsx)(fe.a,{align:"justify",variant:"body2",color:"secondary",children:t.prjDescription})]}),Object(y.jsxs)("div",{className:a.prjTitle,children:[Object(y.jsx)(fe.a,{variant:"overline",color:"textSecondary",children:"Start Time:"}),Object(y.jsx)(fe.a,{align:"justify",variant:"body2",color:"secondary",children:t.prjStartTime.split("T")[0]})]}),Object(y.jsx)("div",{className:a.prjTitle,children:Object(y.jsx)(R.a,{color:"secondary",variant:"contained",onClick:function(){return x.apply(this,arguments)},startIcon:Object(y.jsx)(Vt.a,{fontSize:"small"}),children:"Download Data"})}),Object(y.jsx)("div",{className:a.prjTitle,children:Object(y.jsx)(fe.a,{variant:"overline",color:"textSecondary",children:"Sensors:"})}),Object(y.jsx)(ae.a,{elevation:0,children:t.prjStatistic.map((function(e){return s.map((function(r){if(e.sensorId==r._id)return m++,Object(y.jsx)(D.a,{display:"flex",alignItems:"flex-start",justifyContent:"space-between",children:Object(y.jsxs)("div",{className:a.sensors,children:[Object(y.jsxs)(fe.a,{variant:"caption",children:["Frequency:",d[t.prjRequirements[0].sensors[m-1].minimumFrequency-1]]}),console.log(t.prjRequirements[0].sensors[m-1].minimumFrequency),Object(y.jsx)(fe.a,{variant:"caption",children:r.name}),Object(y.jsx)(f,{value:parseFloat(e.collectedNum/e.goalNum*100).toString()})]})})}))}))})]})]})}var Yt=function(){var e=Object(n.useState)(void 0),t=Object(h.a)(e,2),r=t[0],a=t[1];return Object(y.jsx)(ce.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:5,children:void 0==r?Object(y.jsx)(Rt,{setProjectDetails:a}):Object(y.jsx)(Kt,{projectDetails:r,setProjectDetails:a})})},$t=r(67),Xt=r(208),Zt=r(216),Qt=r(213),er=r(323),tr=r(306),rr=function(){var e=Object(p.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,firebase.auth().currentUser.getIdToken();case 3:return t=e.sent,console.log("idtoken:"+t),e.next=7,J(t);case 7:return r=e.sent,console.log("data got from API"),console.log(r),e.abrupt("return",r);case 13:throw e.prev=13,e.t0=e.catch(0),new v("profile-info-binding-error",{error:e.t0},w.BIND_PROFILE);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),nr=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("inside BindingResearch"),e.next=4,z();case 4:return t=e.sent,console.log("Research data got from API"),console.log(t),e.abrupt("return",t);case 10:throw e.prev=10,e.t0=e.catch(0),new v("Fetch-research-field-error",{error:e.t0},w.FETCH_RESEARCH_FIELDS);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ar=r(305),cr=Object(E.a)((function(e){return{profileBox:{height:"auto",maxWidth:"70%",backgroundColor:e.palette.background.paper,display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",padding:e.spacing(3)},leftBox:{width:"auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center"},rightBox:{maxWidth:"25rem",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",marginLeft:e.spacing(3),padding:e.spacing(2)},profileTitle:{color:e.palette.primary.light,marginTop:"0.5rem",marginBottom:"0.5rem",fontSize:"1.5rem",letterSpacing:"3px",fontWeight:"bolder"},largeAvatar:{width:e.spacing(15),height:e.spacing(15),marginBottom:e.spacing(3)},FixedInfo:{marginBottom:"1rem",color:e.palette.text.primary,fontSize:"1rem",fontWeight:"bold"},formControl:{width:"100%"},textBox:{marginBottom:"2rem"},researchPaper:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chips:{maxWidth:"25rem"},chip:{margin:e.spacing(.5)},submit:{margin:e.spacing(3,0,1),color:"#ffffff",backgroundColor:"#3FD2C7",fontSize:"20px",fontWeight:"bolder",height:"50px",letterSpacing:"5px"}}})),ir=Object(Bt.a)((function(e){return{badge:{backgroundColor:e.palette.primary.light,color:e.palette.background.paper,width:e.spacing(3),height:e.spacing(3)}}}))(ar.a),sr=r(127),or=r.n(sr),lr=r(66),ur=r.n(lr);var dr=function(){var e=cr(),t=Object(n.useState)([]),r=Object(h.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)({email:"email",name:"",organisation:"",phoneNum:"",researchFields:[]}),s=Object(h.a)(i,2),o=s[0],l=s[1],u=Object(n.useState)([]),d=Object(h.a)(u,2),m=d[0],f=d[1],x=Object(n.useState)(!0),O=Object(h.a)(x,2),g=O[0],v=O[1],w=Object(S.f)(),k=function(){return Object(y.jsx)(Ce.a,{"aria-label":"edit",children:Object(y.jsx)(or.a,{fontSize:"small"})})},P=function(e){f([e])},E=function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.researchFields?l({email:t._id,name:t.name,phoneNum:t.phoneNum,organisation:t.organisation,researchFields:t.researchFields}):l({email:t._id,name:t.name,phoneNum:t.phoneNum,organisation:t.organisation,researchFields:[]});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){return function(t){l(Object(b.a)(Object(b.a)({},o),{},Object(I.a)({},e,t.target.value)))}},q=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f([]),!(""!==o.name&&""!==o.phoneNum&&0!==o.researchFields.length||(P("Please fill in all the required fields."),0))){e.next=18;break}return e.prev=2,console.log(o),e.next=6,firebase.auth().currentUser.getIdToken();case 6:return t=e.sent,e.next=9,H(t);case 9:K(o,t),ur.a.fire({title:"Congrats!",text:"Your profile has been updated!"}),w.push("".concat(N.authenticated.url).concat(N.profile.url)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),P([]),e.t0.type,P([e.t0.toString()]);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(j.a.mark((function e(){var t,r,n,a,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr();case 2:return t=e.sent,console.log("have data"),r=Object.values(t),n=Object.keys(t),a=Object.keys(t).length,e.next=9,c([]);case 9:for(i=0;i<a;i++)c((function(e){return[].concat(Object($t.a)(e),[{key:parseInt(n[i]),value:r[i]}])}));return e.next=12,rr();case 12:(s=e.sent)&&(E(s),v(!1));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),g?Object(y.jsx)(ee,{}):Object(y.jsxs)(C.a,{className:e.profileBox,children:[Object(y.jsxs)(D.a,{className:e.leftBox,children:[Object(y.jsx)("div",{className:e.profileTitle,children:"Profile"}),Object(y.jsx)(ir,{color:"primary",overlap:"circle",anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:Object(y.jsx)(k,{}),children:Object(y.jsx)(dt.a,{className:e.largeAvatar,children:o.name.charAt(0).toUpperCase()})}),Object(y.jsx)("div",{className:e.FixedInfo,children:o.email}),Object(y.jsx)("div",{className:e.FixedInfo,children:o.organisation})]}),Object(y.jsxs)(D.a,{className:e.rightBox,children:[Object(y.jsx)("div",{children:m.length>0&&m.map((function(e){return Object(y.jsx)(T.a,{severity:"error",children:e})}))}),Object(y.jsxs)("form",{className:e.profileForm,children:[Object(y.jsx)(A.a,{className:e.textBox,type:"text",variant:"standard",required:!0,fullWidth:!0,label:"Name",autoFocus:!0,value:o.name,onChange:F("name")}),Object(y.jsx)(A.a,{className:e.textBox,type:"text",variant:"standard",required:!0,fullWidth:!0,label:"Mobile number",value:o.phoneNum,onChange:F("phoneNum")}),Object(y.jsxs)(Xt.a,{required:!0,variant:"standard",className:e.formControl,children:[Object(y.jsx)(Zt.a,{children:"Research Field"}),Object(y.jsx)(Qt.a,{id:"research-selector",multiple:!0,value:o.researchFields,onChange:F("researchFields"),renderValue:function(t){return Object(y.jsx)("div",{className:e.chips,children:t.map((function(t){return a.map((function(r){if(t===r.key)return Object(y.jsx)(er.a,{variant:"outlined",color:"secondary",label:r.value,className:e.chip},t)}))}))})},children:a.map((function(e){return Object(y.jsx)(tr.a,{value:e.key,children:Object(y.jsx)(Ye.a,{primary:e.value})},e.key)}))})]}),Object(y.jsx)(R.a,{fullWidth:!0,variant:"contained",className:e.submit,onClick:q,children:"update"})]})]})]})},jr=r(98),pr=r.n(jr),br=r(325),hr=r(311),mr=r(317);function fr(e){var t=e.currentSeriousness,r=e.getValue,n=Wt();return Object(y.jsx)(Mt,{title:"Choose how related this factor affects your matchmaking (from 1 to 5, 5 is the most).",arrow:!0,children:Object(y.jsxs)(Xt.a,{variant:"standard",className:n.seriousness,children:[Object(y.jsx)(Zt.a,{id:"seriousness-select",children:"Level"}),Object(y.jsxs)(Qt.a,{label:"seriousness",defaultValue:"5",value:t,onChange:function(e){r(parseInt(e.target.value))},children:[Object(y.jsx)(tr.a,{value:"1",children:"1"}),Object(y.jsx)(tr.a,{value:"2",children:"2"}),Object(y.jsx)(tr.a,{value:"3",children:"3"}),Object(y.jsx)(tr.a,{value:"4",children:"4"}),Object(y.jsx)(tr.a,{value:"5",children:"5"})]})]})})}var xr=r(307),Or=r(324);function gr(e){var t=e.setOptionalData,r=e.optionalData,a=Wt(),c=Object(n.useState)([]),i=Object(h.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)([]),u=Object(h.a)(l,2),d=(u[0],u[1],Object(n.useState)(!0)),m=Object(h.a)(d,2),f=m[0],x=m[1],O=Object(n.useState)(),g=Object(h.a)(O,2),v=g[0],w=g[1],k=Object(n.useState)(),S=Object(h.a)(k,2),P=S[0],N=S[1];return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(j.a.mark((function e(){var t,r,n,a,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At();case 2:return t=e.sent,console.log("gender"),console.log(t),e.next=7,Ft();case 7:return r=e.sent,console.log(r),n=r.length-1,w(r[0]),N(r[n]),a=Object.values(t),c=Object.keys(t),e.next=16,o([]);case 16:for(i=0;i<Object.keys(t).length;i++)o((function(e){return[].concat(Object($t.a)(e),[{key:c[i],value:a[i]}])}));x(!1);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),f?Object(y.jsx)(Z.a,{color:"secondary"}):Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{id:"matchmaking-setting",className:a.optionalSetting,children:[Object(y.jsx)(Mt,{title:"By turning it on, your project will be sent to matching-users according to your setting.",arrow:!0,children:Object(y.jsx)(fe.a,{variant:"body1",color:"secondary",children:"Matchmaking"})}),Object(y.jsx)(xr.a,{control:Object(y.jsx)(Gt,{checked:!0,name:"Matchmaking"})})]}),Object(y.jsx)(He.a,{}),Object(y.jsxs)("div",{className:a.optionalSetting,children:[Object(y.jsx)(fe.a,{color:"textPrimary",variant:"overline",children:"(Settings below are optional, it will affect your matchmaking results.)"}),Object(y.jsxs)("div",{className:a.optionalSetting,children:[Object(y.jsxs)(ae.a,{id:"gender-paper",className:a.optionalPaper,children:[Object(y.jsxs)(Xt.a,{variant:"standard",className:a.optionalSelect,children:[Object(y.jsx)(Zt.a,{id:"gender-select",children:"Gender"}),Object(y.jsxs)(Qt.a,{multiple:!0,value:r.GenderPrjRequirement.genders,onChange:function(e){if(""!==e.target.value){var n=JSON.parse(JSON.stringify(r.GenderPrjRequirement));n.gender=e.target.value,t(Object(b.a)(Object(b.a)({},r),{},{GenderPrjRequirement:n}))}},label:"gender",renderValue:function(e){return Object(y.jsx)("div",{children:e.map((function(e){return s.map((function(t){if(parseInt(e)===t.value)return Object(y.jsx)("div",{children:t.key})}))}))})},children:[Object(y.jsx)(tr.a,{value:"",children:"All"}),s.map((function(e){return Object(y.jsx)(tr.a,{value:parseInt(e.value),children:e.key},e.value)}))]})]}),Object(y.jsx)(fr,{currentSeriousness:r.GenderPrjRequirement.seriousness,getValue:function(e){var n=JSON.parse(JSON.stringify(r.GenderPrjRequirement));n.seriousness=e,t(Object(b.a)(Object(b.a)({},r),{},{GenderPrjRequirement:n}))}})]}),Object(y.jsxs)(ae.a,{id:"OS-paper",className:a.optionalPaper,children:[Object(y.jsxs)(Xt.a,{disabled:!0,variant:"standard",className:a.optionalSelect,children:[Object(y.jsx)(Zt.a,{id:"OS-select-disabled",children:"Operation System"}),Object(y.jsxs)(Qt.a,{label:"OS",defaultValue:"Android",children:[Object(y.jsx)(tr.a,{value:"All",children:"All"}),Object(y.jsx)(tr.a,{selected:!0,value:"Android",children:"Android"})]})]}),Object(y.jsx)(fr,{currentSeriousness:r.MobileSystemPrjRequirement.seriousness,getValue:function(e){var n=JSON.parse(JSON.stringify(r.MobileSystemPrjRequirement));n.seriousness=e,t(Object(b.a)(Object(b.a)({},r),{},{MobileSystemPrjRequirement:n}))}})]}),Object(y.jsxs)(ae.a,{id:"Devices-paper",className:a.optionalPaper,children:[Object(y.jsxs)(Xt.a,{variant:"standard",className:a.optionalSelect,children:[Object(y.jsx)(Zt.a,{id:"device-select",children:"Devices"}),Object(y.jsxs)(Qt.a,{value:r.MobileDeviceTypePrjRequirement.mobileDeviceTypes,label:"devices",multiple:!0,onChange:function(e){if(""!==e.target.value){var n=JSON.parse(JSON.stringify(r.MobileDeviceTypePrjRequirement));n.mobileDeviceTypes=e.target.value,t(Object(b.a)(Object(b.a)({},r),{},{MobileDeviceTypePrjRequirement:n}))}},children:[Object(y.jsx)(tr.a,{value:"",children:"All"}),Object(y.jsx)(tr.a,{value:"Mobile Phone",children:"Mobile Phone"}),Object(y.jsx)(tr.a,{value:"Wearable Device",children:"Wearable Device"})]})]}),Object(y.jsx)(fr,{currentSeriousness:r.MobileDeviceTypePrjRequirement.seriousness,getValue:function(e){var n=JSON.parse(JSON.stringify(r.MobileDeviceTypePrjRequirement));n.seriousness=e,t(Object(b.a)(Object(b.a)({},r),{},{MobileDeviceTypePrjRequirement:n}))}})]}),Object(y.jsxs)(ae.a,{id:"Andriod-API-paper",className:a.optionalPaper,children:[Object(y.jsxs)("div",{className:a.optionalSelect,children:[Object(y.jsx)(fe.a,{id:"API-select",color:"textSecondary",align:"left",variant:"caption",display:"block",children:"API Version Range"}),Object(y.jsx)(Or.a,{value:[r.AndroidAPIPrjRequirement.minAPILevel,r.AndroidAPIPrjRequirement.maxAPILevel],"aria-labelledby":"api-range-slider",valueLabelDisplay:"auto",onChange:function(e,n){var a=JSON.parse(JSON.stringify(r.AndroidAPIPrjRequirement));a.minAPILevel=parseInt(n[0]),a.maxAPILevel=parseInt(n[1]),t(Object(b.a)(Object(b.a)({},r),{},{AndroidAPIPrjRequirement:a}))},min:v,max:P})]}),Object(y.jsx)(fr,{currentSeriousness:r.AndroidAPIPrjRequirement.seriousness,getValue:function(e){var n=JSON.parse(JSON.stringify(r.AndroidAPIPrjRequirement));n.seriousness=e,t(Object(b.a)(Object(b.a)({},r),{},{AndroidAPIPrjRequirement:n}))}})]})]})]})]})}var vr=r(308),wr=r(309),yr=r(128),kr=r.n(yr),Sr=r(129),Pr=r.n(Sr);function Nr(e){var t=e.setSensorData,r=e.sensorData,a=Wt(),c=Object(n.useState)([]),i=Object(h.a)(c,2),s=i[0],o=i[1],l={sensorId:"",sensorName:"",minimumFrequency:1,frequencyLevel:"",recordsNum:0},u=Object(n.useState)([]),d=Object(h.a)(u,2),b=d[0],m=d[1],f=function(e){return function(t){switch(e){case"sensorId":l.sensorId=t.target.value[0],l.sensorName=t.target.value[1];break;case"minimumFrequency":l.minimumFrequency=parseInt(t.target.value[0]),l.frequencyLevel=t.target.value[1];break;case"recordsNum":l.recordsNum=parseInt(t.target.value)}}},x=function(e){o([e])};return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,Et();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(y.jsxs)("div",{children:[s.length>0&&s.map((function(e){return Object(y.jsx)(T.a,{severity:"error",children:e})})),Object(y.jsxs)("div",{id:"sensor setting",className:a.sensorSetting,children:[Object(y.jsxs)(Xt.a,{id:"sensor-control",required:!0,variant:"outlined",className:a.sensorDrop,children:[Object(y.jsx)(Zt.a,{children:"Select Sensor"}),Object(y.jsx)(Qt.a,{id:"sensor-selector",onChange:f("sensorId"),labelWidth:120,children:b.map((function(e){return Object(y.jsx)(tr.a,{value:[e._id,e.name],children:e.name},e._id)}))})]}),Object(y.jsxs)(Xt.a,{id:"sensor-frequency",required:!0,variant:"outlined",className:a.fslider,children:[Object(y.jsx)(Zt.a,{children:"Frequency"}),Object(y.jsxs)(Qt.a,{id:"frequency-selector",onChange:f("minimumFrequency"),labelWidth:90,children:[Object(y.jsx)(tr.a,{value:["1","Low"],children:"Low"},1),Object(y.jsx)(tr.a,{value:["2","Medium"],children:"Medium"},2),Object(y.jsx)(tr.a,{value:["3","High"],children:"High"},3)]})]})]}),Object(y.jsx)(vr.a,{size:"small",color:"secondary","aria-label":"add-sensor",onClick:function(){if(o([]),""!==l.sensorId)if(l.minimumFrequency>-1)if(function(){for(var e=!0,t=0;t<r.length;t++)if(r[t].sensorId===l.sensorId){e=!1;break}return console.log("result"),console.log(e),e}()){console.log(l);var e=JSON.parse(JSON.stringify(r));e.push(l),t(e),console.log(r)}else x("You have already chose this setting.");else x("You must choose a frequency for the sensor.");else x("you must choose a sensor.")},children:Object(y.jsx)(kr.a,{})}),Object(y.jsx)(He.a,{}),Object(y.jsx)("div",{children:Object(y.jsx)(Ve.a,{children:r.map((function(e){return Object(y.jsxs)(Je.a,{children:[Object(y.jsx)(Ye.a,{primary:e.sensorName,secondary:"Frequency: "+e.frequencyLevel}),Object(y.jsx)(wr.a,{children:Object(y.jsx)(Ce.a,{edge:"end","aria-label":"delete",onClick:(n=r.indexOf(e),function(){console.log(n);var e=JSON.parse(JSON.stringify(r));e.splice(n,1),console.log(e),t(e)}),children:Object(y.jsx)(Pr.a,{})})})]});var n}))})})]})}var Ir=function(){var e=Object(p.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,firebase.auth().currentUser.getIdToken();case 3:return t=e.sent,e.next=6,J(t);case 6:return r=e.sent,console.log("user balance data got from API"),console.log(r),e.abrupt("return",r.balance);case 12:throw e.prev=12,e.t0=e.catch(0),new v("Get-user-error",{error:e.t0},w.BACKEND_PROFILE);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),Cr=r(215),Tr=r(310),Rr=r(209),Dr=r(316);function Ar(e){var t=e.setBasicData,r=e.basicData,a=Wt(),c=Object(n.useState)([]),i=Object(h.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)([]),u=Object(h.a)(l,2),d=(u[0],u[1]),m=(new Date).toLocaleDateString("en-CA"),f=Object(n.useState)(!0),x=Object(h.a)(f,2),O=x[0],g=x[1],v=Object(n.useState)(),w=Object(h.a)(v,2),k=w[0],S=w[1],P=function(e){d(Object(b.a)(Object(b.a)({},e),{},{errors:e}))},N=function(e){return function(n){return function(a){switch(n){case"float":if(parseFloat(a.target.value)<=k){if(parseFloat(a.target.value)>0)return t(Object(b.a)(Object(b.a)({},r),{},Object(I.a)({},e,parseFloat(a.target.value))));P("Please type the right amount of funding.")}else P("Please top up your balance first.");break;case"bool":return t(Object(b.a)(Object(b.a)({},r),{},Object(I.a)({},e,a.target.checked)));case"":return t(Object(b.a)(Object(b.a)({},r),{},Object(I.a)({},e,a.target.value)))}}}};return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(j.a.mark((function e(){var t,r,n,a,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt();case 2:return t=e.sent,console.log("have data"),r=Object.values(t),n=Object.keys(t),a=Object.keys(t).length,e.next=9,Ir();case 9:return c=e.sent,S(c.toFixed(2)),e.next=13,o([]);case 13:for(i=0;i<a;i++)o((function(e){return[].concat(Object($t.a)(e),[{key:parseInt(n[i]),value:r[i]}])}));g(!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),O?Object(y.jsx)(Z.a,{color:"secondary"}):Object(y.jsxs)("div",{children:[Object(y.jsx)(A.a,{className:a.textBox,type:"text",id:"project-title",variant:"outlined",required:!0,fullWidth:!0,label:"Project Title",value:r.prjTitle,onChange:N("prjTitle")(""),inputProps:{maxLength:100}}),Object(y.jsx)(A.a,{className:a.textBox,id:"project-description",variant:"outlined",multiline:!0,rows:4,label:"Description",required:!0,fullWidth:!0,value:r.prjDescription,onChange:N("prjDescription")(""),inputProps:{maxLength:400}}),Object(y.jsxs)("div",{className:a.margin,children:[Object(y.jsxs)(Xt.a,{variant:"outlined",required:!0,className:a.date,children:[Object(y.jsx)(Zt.a,{children:"Start Date"}),Object(y.jsx)(Cr.a,{type:"date",inputProps:{min:m},value:new Date(r.prjStartTime).toLocaleDateString("en-CA"),onChange:N("prjStartTime")(""),labelWidth:80})]}),Object(y.jsxs)(Xt.a,{variant:"outlined",required:!0,className:a.right,children:[Object(y.jsx)(Zt.a,{children:"Duration"}),Object(y.jsx)(Cr.a,{type:"number",value:r.prjDuration,inputProps:{min:1},onChange:N("prjDuration")(""),endAdornment:Object(y.jsx)(Tr.a,{position:"end",children:"Days"}),labelWidth:70})]}),Object(y.jsxs)(Xt.a,{variant:"outlined",required:!0,className:a.right,children:[Object(y.jsx)(Zt.a,{children:"Participants"}),Object(y.jsx)(Cr.a,{type:"number",value:r.prjParticipantsNum,inputProps:{min:1},onChange:N("prjParticipantsNum")(""),endAdornment:Object(y.jsx)(Tr.a,{position:"end",children:"PPL"}),labelWidth:90})]})]}),Object(y.jsxs)("div",{className:a.margin,children:[Object(y.jsxs)(Xt.a,{variant:"outlined",required:!0,className:a.funding,fullWidth:!0,children:[Object(y.jsx)(Zt.a,{htmlFor:"outlined-adornment-funding",children:"Funding"}),Object(y.jsx)(Cr.a,{type:"number",value:r.prjFunding,inputProps:{max:k,min:1},onChange:N("prjFunding")("float"),startAdornment:Object(y.jsx)(Tr.a,{position:"start",children:"$"}),endAdornment:Object(y.jsx)(Tr.a,{position:"end",children:"AUD"}),labelWidth:70}),Object(y.jsxs)(Rr.a,{id:"outlined-helper-text",children:["Current balance:",k," AUD"]})]}),Object(y.jsx)(xr.a,{control:Object(y.jsx)(Dr.a,{checked:r.isFullRedeemOnly,onChange:N("isFullRedeemOnly")("bool"),name:"checkedB",color:"primary"}),label:"No partial rewards"})]}),Object(y.jsxs)(Xt.a,{required:!0,variant:"outlined",className:a.formControl,children:[Object(y.jsx)(Zt.a,{children:"Research Field"}),Object(y.jsx)(Qt.a,{id:"research-selector",value:r.prjResearchField,onChange:N("prjResearchField")(""),labelWidth:120,children:s.map((function(e){return Object(y.jsx)(tr.a,{value:e.key,children:Object(y.jsx)(Ye.a,{primary:e.value})},e.key)}))})]})]})}function Er(e){var t=e.basicData,r=e.sensorData,n=(e.optionalData,Wt());return Object(y.jsxs)("div",{className:n.reviewStep,children:[Object(y.jsxs)("div",{className:n.reviewlines,children:[Object(y.jsx)(fe.a,{variant:"overline",children:"Project Title:"}),Object(y.jsx)(fe.a,{variant:"body1",color:"secondary",children:t.prjTitle})]}),Object(y.jsxs)("div",{className:n.reviewlines,children:[Object(y.jsx)(fe.a,{variant:"overline",children:"Project Description:"}),Object(y.jsx)(fe.a,{variant:"body1",color:"secondary",gutterBottom:"true",noWrap:"false",children:t.prjDescription})]}),Object(y.jsxs)("div",{className:n.reviewlines,children:[Object(y.jsx)(fe.a,{variant:"overline",children:"Start date:"}),Object(y.jsx)(fe.a,{variant:"body1",color:"secondary",children:new Date(t.prjStartTime).toLocaleDateString("en-CA")})]}),Object(y.jsxs)("div",{className:n.reviewlines,children:[Object(y.jsx)(fe.a,{variant:"overline",children:"Funding amount:"}),Object(y.jsxs)(fe.a,{variant:"body1",color:"secondary",children:[t.prjFunding," AUD"]})]}),Object(y.jsxs)("div",{className:n.reviewlines,children:[Object(y.jsx)(fe.a,{variant:"overline",children:"Sensors:"}),Object(y.jsx)(Ve.a,{children:r.map((function(e){return Object(y.jsx)(Je.a,{children:Object(y.jsx)(Ye.a,{primary:e.sensorName,secondary:"Frequency: "+e.frequencyLevel+", goal: "+e.recordsNum})})}))})]})]})}var Fr=function(){var e=Wt(),t=Object(n.useState)(0),r=Object(h.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(new Set),s=Object(h.a)(i,2),o=s[0],l=s[1],u=(new Date).toLocaleDateString("en-CA"),d=["Basic setting","Sensors & Matchmaking","Demographic Setting","Review"],m=Object(S.f)(),f=[],x=[],O=Object(n.useState)({prjTitle:"",prjDescription:"",prjResearchField:0,prjStartTime:new Date(u).toISOString(),prjFunding:1,conversionRate:1,prjDuration:1,prjParticipantsNum:1,isFullRedeemOnly:!0}),g=Object(h.a)(O,2),v=g[0],w=g[1],k=Object(n.useState)([]),P=Object(h.a)(k,2),T=P[0],D=P[1],A=Object(n.useState)({GenderPrjRequirement:{seriousness:5,genders:[]},MobileSystemPrjRequirement:{seriousness:5,mobileSystems:["Android"]},MobileDeviceTypePrjRequirement:{seriousness:5,mobileDeviceTypes:[]},AndroidAPIPrjRequirement:{seriousness:5,minAPILevel:0,maxAPILevel:0}}),E=Object(h.a)(A,2),F=E[0],q=E[1],B=Object(n.useState)([]),L=Object(h.a)(B,2),W=L[0],G=L[1],M=function(e){return o.has(e)},z=function(){var e=o;M(a)&&(e=new Set(e.values())).delete(a),c((function(e){return e+1})),l(e)},U=function(){c((function(e){return e-1}))},V=function(){console.log(T),f=[{requirementType:"SensorPrjRequirement",seriousness:5,sensors:[]}];for(var e=0;e<T.length;e++)f[0].sensors.push({sensorId:T[e].sensorId,minimumFrequency:T[e].minimumFrequency});Object.keys(F).forEach((function(e){switch(e){case"GenderPrjRequirement":F[e].genders.length>0&&(F.GenderPrjRequirement.requirementType="GenderPrjRequirement",f.push(F.GenderPrjRequirement));break;case"MobileSystemPrjRequirement":F[e].mobileSystems.length>0&&(F.MobileSystemPrjRequirement.requirementType="MobileSystemPrjRequirement",f.push(F.MobileSystemPrjRequirement));break;case"MobileDeviceTypePrjRequirement":F[e].mobileDeviceTypes.length>0&&(F.MobileDeviceTypePrjRequirement.requirementType="MobileDeviceTypePrjRequirement",f.push(F.MobileDeviceTypePrjRequirement));break;case"AndroidAPIPrjRequirement":1==F[e].minAPILevel&&30==F[e].minAPILevel||(F.AndroidAPIPrjRequirement.requirementType="AndroidAPIPrjRequirement",f.push(F.AndroidAPIPrjRequirement))}}));for(var t=0;t<T.length;t++)x.push({sensorId:T[t].sensorId,recordsNum:v.prjDuration*v.prjParticipantsNum*864e5/W[T[t].minimumFrequency-1]}),console.log("hhhhhhhh"),console.log(x)};Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.next=3,_();case 3:e.t1=e.sent,t=e.t0.values.call(e.t0,e.t1),G(t),console.log(W);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var J=function(){var e=Object(p.a)(j.a.mark((function e(){var t,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(),t={prjTitle:v.prjTitle,prjDescription:v.prjDescription,prjResearchField:v.prjResearchField,prjStartTime:v.prjStartTime,prjFunding:v.prjFunding,conversionRate:v.conversionRate,matchmakingEnable:!0,prjRequirements:f,prjGoals:x},Object(I.a)(t,"matchmakingEnable",!0),Object(I.a)(t,"isFullRedeemOnly",v.isFullRedeemOnly),r=t,console.log("overallData"),console.log(r),e.prev=4,e.next=7,firebase.auth().currentUser.getIdToken();case 7:return n=e.sent,console.log(n),e.next=11,H(n);case 11:return e.next=13,Y(r,n);case 13:e.sent&&(ur.a.fire({title:"Congrats!",text:"You created a new project!",icon:"success"}),m.push("".concat(N.authenticated.url).concat(N.dashboard.url))),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),handleErrors([]),e.t0.type,handleErrors([e.t0.toString()]);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft();case 2:t=e.sent,console.log(t),r=t.length-1,q(Object(b.a)(Object(b.a)({},F),{},{AndroidAPIPrjRequirement:{seriousness:5,minAPILevel:t[0],maxAPILevel:t[r]}}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(y.jsxs)(C.a,{className:e.root,children:[Object(y.jsxs)(C.a,{children:[Object(y.jsx)(br.a,{activeStep:a,alternativeLabel:!0,children:d.map((function(e,t){var r={};return M(t)&&(r.completed=!1),Object(y.jsx)(hr.a,Object(b.a)(Object(b.a)({},r),{},{children:Object(y.jsx)(mr.a,{children:e})}),e)}))}),Object(y.jsx)(He.a,{})]}),Object(y.jsxs)("div",{className:e.steps,children:[Object(y.jsxs)("div",{className:e.btnGroup,children:[Object(y.jsx)(Ce.a,{"aria-label":"back",disabled:0===a,onClick:U,children:Object(y.jsx)(Ut.a,{})}),Object(y.jsx)(R.a,{disabled:0===a,onClick:U,className:e.button,children:"Back"})]}),Object(y.jsx)(C.a,{className:e.instructions,children:function(e){switch(e){case 0:return Object(y.jsx)(Ar,{setBasicData:w,basicData:v});case 1:return Object(y.jsx)(Nr,{setSensorData:D,sensorData:T});case 2:return Object(y.jsx)(gr,{setOptionalData:q,optionalData:F});case 3:return Object(y.jsx)(Er,{basicData:v,sensorData:T,optionalData:F});default:return"Unknown step"}}(a)}),Object(y.jsx)("div",{className:e.btnGroup,children:a!==d.length-1?Object(y.jsxs)("div",{children:[Object(y.jsx)(Ce.a,{"aria-label":"next",onClick:z,size:"large",children:Object(y.jsx)(pr.a,{})}),Object(y.jsx)(R.a,{color:"secondary",onClick:z,className:e.button,children:"Next"})]}):Object(y.jsxs)("div",{children:[Object(y.jsx)(Ce.a,{"aria-label":"next",onClick:J,size:"large",children:Object(y.jsx)(pr.a,{})}),Object(y.jsx)(R.a,{onClick:J,className:e.button,children:"Create"})]})})]})]})},qr=Object(E.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",scrollBehavior:"auto",width:"50%",minWidth:"30rem"},paper:{margin:"3rem auto",height:"12rem",width:"20rem",borderRadius:"15px",backgroundColor:"rgba(0,0,0,0.5)",padding:"1rem"},box:{margin:"2rem auto",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",alignContent:"center"},text:{width:"100%",color:e.palette.primary.main,marginBottom:"1.5rem"},balance:{display:"flex",flexWrap:"wrap",flexDirection:"row",width:"100%",justifyContent:"flex-start",color:e.palette.primary.main},topUp:{margin:"0rem auto",display:"flex",flexWrap:"wrap",flexDirection:"column",alignItems:"center",width:"80%",height:"auto"},moneyIcon:{color:e.palette.common.white},button:{marginTop:"1rem",backgroundColor:e.palette.common.white,color:e.palette.primary.dark,borderRadius:"30px"}}})),Br=r(130),Lr=r.n(Br),_r=r(131),Wr=r.n(_r);var Gr=function(){var e=qr(),t=Object(n.useState)(),r=Object(h.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)({addValue:0}),s=Object(h.a)(i,2),o=s[0],l=s[1],u=Object(n.useState)([]),d=Object(h.a)(u,2),b=d[0],m=d[1],f=Object(n.useState)(!0),x=Object(h.a)(f,2),O=x[0],g=x[1],v=function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l({addValue:parseFloat(t.target.value)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){m([e])},k=function(){var e=Object(p.a)(j.a.mark((function e(){var t,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(o.addValue<1)){e.next=6;break}return w("The balance must be more than 1 AUD."),e.abrupt("return");case 6:o.addValue>9999?w("The balance must be lower than 9,999 AUD."):m([]);case 7:return e.next=9,firebase.auth().currentUser.getIdToken();case 9:return t=e.sent,e.next=12,H(t);case 12:return e.next=14,$(o,t);case 14:return r=e.sent,console.log(r),l({addValue:0}),ur.a.fire({title:"Paid!",text:"You successfully top up!"}),e.next=20,Ir();case 20:n=(n=e.sent).toFixed(2),console.log(n),c(n),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),e.t0.type,console.log(e.t0.toString());case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir();case 2:t=(t=e.sent).toFixed(2),console.log(t),c(t),g(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),O?Object(y.jsx)(ee,{}):Object(y.jsxs)(C.a,{className:e.root,children:[Object(y.jsx)(ae.a,{elevation:10,className:e.paper,children:Object(y.jsxs)(D.a,{className:e.box,children:[Object(y.jsx)("div",{className:e.text,children:Object(y.jsx)(fe.a,{align:"left",variant:"subtitle2",children:"Current Balance:"})}),Object(y.jsxs)("div",{className:e.balance,children:[Object(y.jsx)(Lr.a,{className:e.moneyIcon,fontSize:"large"}),Object(y.jsx)(fe.a,{variant:"h2",children:a}),Object(y.jsx)(fe.a,{variant:"h6",children:"AUD"})]})]})}),Object(y.jsxs)("div",{className:e.topUp,children:[b.length>0&&b.map((function(e){return Object(y.jsx)(T.a,{severity:"error",children:e})})),Object(y.jsx)(A.a,{type:"number",value:o.addValue,onChange:v,InputProps:{startAdornment:Object(y.jsx)(Tr.a,{position:"start",children:"$"}),endAdornment:Object(y.jsx)(Tr.a,{position:"end",children:"AUD"})}}),Object(y.jsx)(R.a,{variant:"contained",size:"large",disableElevation:!0,className:e.button,startIcon:Object(y.jsx)(Wr.a,{}),onClick:k,children:"Top Up"})]})]})},Mr=function(){var e=Object(S.g)(),t=e.path;e.url;return Object(y.jsxs)(S.c,{children:[Object(y.jsx)(S.a,{path:"".concat(t).concat(N.dashboard.url),render:function(){return Object(y.jsx)(at,{ProtectedComponent:ft})}}),Object(y.jsx)(S.a,{path:"".concat(t).concat(N.projects.url),render:function(){return Object(y.jsx)(at,{ProtectedComponent:Yt})}}),Object(y.jsx)(S.a,{path:"".concat(t).concat(N.profile.url),render:function(){return Object(y.jsx)(at,{ProtectedComponent:dr})}}),Object(y.jsx)(S.a,{path:"".concat(t).concat(N.createProject.url),render:function(){return Object(y.jsx)(at,{ProtectedComponent:Fr})}}),Object(y.jsx)(S.a,{path:"".concat(t).concat(N.balance.url),render:function(){return Object(y.jsx)(at,{ProtectedComponent:Gr})}}),Object(y.jsx)(S.a,{path:"".concat(t).concat(N.projectDetails.url),render:function(){return Object(y.jsx)(at,{ProtectedComponent:Kt})}})]})};var zr=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(S.c,{children:[Object(y.jsx)(S.a,{exact:!0,path:"/",render:function(){return Object(y.jsx)(ne,{})}}),Object(y.jsx)(S.a,{exact:!0,path:N.register.url,render:function(){return Object(y.jsx)(me,{})}}),Object(y.jsx)(S.a,{exact:!0,path:N.forgotPwd.url,render:function(){return Object(y.jsx)(ye,{})}}),Object(y.jsx)(S.a,{exact:!0,path:N.login.url,render:function(){return Object(y.jsx)(ne,{})}}),Object(y.jsx)(S.a,{path:N.authenticated.url,render:function(){return Object(y.jsx)(Mr,{})}})]})})},Ur=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,326)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))};i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(s.a,{children:Object(y.jsx)(k,{children:Object(y.jsx)(o.a,{theme:u,children:Object(y.jsx)(zr,{})})})})}),document.getElementById("root")),Ur()}},[[203,1,2]]]);
//# sourceMappingURL=main.002f9cd6.chunk.js.map